{"ast":null,"code":"import _slicedToArray from\"/Users/kashifdelvi/deploymentofreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Typeahead}from'react-bootstrap-typeahead';import{Row,Col}from'react-bootstrap';import{useNavigate}from'react-router-dom';import LocationTypeAhead from'./LocationTypeahead';import{basePath,resturant}from\"../api/index\";import{axiosInstanceWithoutToken}from\"../api/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ImageContainer(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filteredRestuarants=_useState2[0],setFilteredRestarants=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedResturant=_useState4[0],setSelectedResturant=_useState4[1];// load first time and also every time selectedResturant changes\nuseEffect(function(){if(selectedResturant.length>0){var resturantCode=selectedResturant[0].code;navigate(\"/resturant/\".concat(resturantCode));}},[selectedResturant]);return/*#__PURE__*/_jsx(\"div\",{className:\"imageContainer\",children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-lg-center \",children:[/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-100\",children:/*#__PURE__*/_jsx(LocationTypeAhead,{callResturants:callResturants})})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(Typeahead,{className:\"mt-100\",labelKey:\"name\",id:\"restuarants\",options:filteredRestuarants,placeholder:\"Choose your restuarant...\",onChange:setSelectedResturant,selected:selectedResturant})})]})});function callResturants(selectedLocation){var payloadToSend={'params':{'location_code':[selectedLocation[0].code]}};var URL=\"\".concat(resturant.getResturants);axiosInstanceWithoutToken.get(URL,payloadToSend).then(function(res){var _res$data;setFilteredRestarants(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.data.resturants);});}}export default ImageContainer;","map":{"version":3,"names":["React","useState","useEffect","Typeahead","Row","Col","useNavigate","LocationTypeAhead","basePath","resturant","axiosInstanceWithoutToken","ImageContainer","navigate","filteredRestuarants","setFilteredRestarants","selectedResturant","setSelectedResturant","length","resturantCode","code","callResturants","selectedLocation","payloadToSend","URL","getResturants","get","then","res","data","resturants"],"sources":["/Users/kashifdelvi/deploymentofreact/src/components/ImageContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport { Row, Col } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport LocationTypeAhead from './LocationTypeahead';\nimport {basePath,resturant} from \"../api/index\"\nimport {axiosInstanceWithoutToken} from \"../api/axios\"\n\nfunction ImageContainer() {\n    const navigate = useNavigate();\n    const [filteredRestuarants, setFilteredRestarants] = useState([]);\n    const [selectedResturant, setSelectedResturant] = useState([]);\n\n    // load first time and also every time selectedResturant changes\n    useEffect(() => {\n        if (selectedResturant.length > 0) {\n            const resturantCode = selectedResturant[0].code;\n            navigate(`/resturant/${resturantCode}`)\n        }\n    }, [selectedResturant])\n\n    return (\n        <div className='imageContainer'>\n\n            <Row className='justify-content-lg-center '>\n                <Col lg=\"4\">\n                    <div className='mt-100'>\n                        <LocationTypeAhead callResturants={callResturants}/>\n                    </div>\n                </Col>\n\n                <Col lg=\"4\">\n                    <Typeahead\n                        className='mt-100'\n                        labelKey=\"name\"\n                        id=\"restuarants\"\n                        options={filteredRestuarants}\n                        placeholder=\"Choose your restuarant...\"\n                        onChange={setSelectedResturant}\n                        selected={selectedResturant}\n                    >\n                    </Typeahead>\n                </Col>\n            </Row>\n        </div>\n    )\n\n    function callResturants(selectedLocation){\n        const payloadToSend = {\n            'params':{\n                'location_code':[selectedLocation[0].code]\n            }\n        }\n        const URL = `${resturant.getResturants}`;\n        axiosInstanceWithoutToken.get(URL,payloadToSend).then((res) => {\n            setFilteredRestarants(res?.data?.data.resturants);\n        })\n    }\n}\nexport default ImageContainer;"],"mappings":"0HAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,2BAA2B,CACrD,OAASC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CAC1C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,kBAAiB,KAAM,qBAAqB,CACnD,OAAQC,QAAQ,CAACC,SAAS,KAAO,cAAc,CAC/C,OAAQC,yBAAyB,KAAO,cAAc,yFAEtD,QAASC,eAAc,EAAG,CACtB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC9B,cAAqDL,QAAQ,CAAC,EAAE,CAAC,wCAA1DY,mBAAmB,eAAEC,qBAAqB,eACjD,eAAkDb,QAAQ,CAAC,EAAE,CAAC,yCAAvDc,iBAAiB,eAAEC,oBAAoB,eAE9C;AACAd,SAAS,CAAC,UAAM,CACZ,GAAIa,iBAAiB,CAACE,MAAM,CAAG,CAAC,CAAE,CAC9B,GAAMC,cAAa,CAAGH,iBAAiB,CAAC,CAAC,CAAC,CAACI,IAAI,CAC/CP,QAAQ,sBAAeM,aAAa,EAAG,CAC3C,CACJ,CAAC,CAAE,CAACH,iBAAiB,CAAC,CAAC,CAEvB,mBACI,YAAK,SAAS,CAAC,gBAAgB,uBAE3B,MAAC,GAAG,EAAC,SAAS,CAAC,4BAA4B,wBACvC,KAAC,GAAG,EAAC,EAAE,CAAC,GAAG,uBACP,YAAK,SAAS,CAAC,QAAQ,uBACnB,KAAC,iBAAiB,EAAC,cAAc,CAAEK,cAAe,EAAE,EAClD,EACJ,cAEN,KAAC,GAAG,EAAC,EAAE,CAAC,GAAG,uBACP,KAAC,SAAS,EACN,SAAS,CAAC,QAAQ,CAClB,QAAQ,CAAC,MAAM,CACf,EAAE,CAAC,aAAa,CAChB,OAAO,CAAEP,mBAAoB,CAC7B,WAAW,CAAC,2BAA2B,CACvC,QAAQ,CAAEG,oBAAqB,CAC/B,QAAQ,CAAED,iBAAkB,EAEpB,EACV,GACJ,EACJ,CAGV,QAASK,eAAc,CAACC,gBAAgB,CAAC,CACrC,GAAMC,cAAa,CAAG,CAClB,QAAQ,CAAC,CACL,eAAe,CAAC,CAACD,gBAAgB,CAAC,CAAC,CAAC,CAACF,IAAI,CAC7C,CACJ,CAAC,CACD,GAAMI,IAAG,WAAMd,SAAS,CAACe,aAAa,CAAE,CACxCd,yBAAyB,CAACe,GAAG,CAACF,GAAG,CAACD,aAAa,CAAC,CAACI,IAAI,CAAC,SAACC,GAAG,CAAK,eAC3Db,qBAAqB,CAACa,GAAG,SAAHA,GAAG,4BAAHA,GAAG,CAAEC,IAAI,oCAAT,UAAWA,IAAI,CAACC,UAAU,CAAC,CACrD,CAAC,CAAC,CACN,CACJ,CACA,cAAelB,eAAc"},"metadata":{},"sourceType":"module"}