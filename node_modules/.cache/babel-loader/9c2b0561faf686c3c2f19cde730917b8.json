{"ast":null,"code":"import _slicedToArray from\"/Users/kashifdelvi/deploymentofreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Typeahead}from'react-bootstrap-typeahead';import{axiosInstanceWithoutToken}from'../api/axios';import{jsx as _jsx}from\"react/jsx-runtime\";function LocationTypeAhead(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedLocation=_useState2[0],setSelectedLocation=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),locations=_useState4[0],setLocations=_useState4[1];useEffect(function(){axiosInstanceWithoutToken.get(\"http://localhost:9191/getLocations\").then(function(res){setLocations(res.data.data);});},[]);// load first time and also every time selectedLocation changes\nuseEffect(function(){console.log(\"Location changed\");/*if (selectedLocation.length > 0) {\n            axios.get(`http://localhost:9191/getResturants?location_code=${selectedLocation[0].code}`).then((res) => {\n                setFilteredRestarants(res?.data?.data)\n            })\n        }*/if(selectedLocation.length>0){props.callResturants(selectedLocation);}},[selectedLocation]);return/*#__PURE__*/_jsx(Typeahead,{labelKey:\"name\",id:\"locations\",options:locations,placeholder:\"Choose your location...\",selected:selectedLocation,onChange:setSelectedLocation});}export default LocationTypeAhead;","map":{"version":3,"names":["React","useState","useEffect","Typeahead","axiosInstanceWithoutToken","LocationTypeAhead","props","selectedLocation","setSelectedLocation","locations","setLocations","get","then","res","data","console","log","length","callResturants"],"sources":["/Users/kashifdelvi/deploymentofreact/src/components/LocationTypeahead.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport {axiosInstanceWithoutToken} from '../api/axios';\n\nfunction LocationTypeAhead(props) {\n    const [selectedLocation, setSelectedLocation] = useState([]);\n    const [locations, setLocations] = useState([]);\n\n    useEffect(() => {\n        axiosInstanceWithoutToken.get(`http://localhost:9191/getLocations`).then((res) => {\n            setLocations(res.data.data)\n        });\n    }, [])\n\n    // load first time and also every time selectedLocation changes\n    useEffect(() => {\n        console.log(\"Location changed\")\n        /*if (selectedLocation.length > 0) {\n            axios.get(`http://localhost:9191/getResturants?location_code=${selectedLocation[0].code}`).then((res) => {\n                setFilteredRestarants(res?.data?.data)\n            })\n        }*/\n        if(selectedLocation.length >0 ){\n            props.callResturants(selectedLocation);\n        }\n    }, [selectedLocation])\n\n    return (\n            <Typeahead\n                labelKey=\"name\"\n                id=\"locations\"\n                options={locations}\n                placeholder=\"Choose your location...\"\n                selected={selectedLocation}\n                onChange={setSelectedLocation}\n            >\n            </Typeahead>\n    )\n}\nexport default LocationTypeAhead;"],"mappings":"0HAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,2BAA2B,CACrD,OAAQC,yBAAyB,KAAO,cAAc,CAAC,2CAEvD,QAASC,kBAAiB,CAACC,KAAK,CAAE,CAC9B,cAAgDL,QAAQ,CAAC,EAAE,CAAC,wCAArDM,gBAAgB,eAAEC,mBAAmB,eAC5C,eAAkCP,QAAQ,CAAC,EAAE,CAAC,yCAAvCQ,SAAS,eAAEC,YAAY,eAE9BR,SAAS,CAAC,UAAM,CACZE,yBAAyB,CAACO,GAAG,sCAAsC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CAC9EH,YAAY,CAACG,GAAG,CAACC,IAAI,CAACA,IAAI,CAAC,CAC/B,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN;AACAZ,SAAS,CAAC,UAAM,CACZa,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAC/B;AACR;AACA;AACA;AACA,WACQ,GAAGT,gBAAgB,CAACU,MAAM,CAAE,CAAC,CAAE,CAC3BX,KAAK,CAACY,cAAc,CAACX,gBAAgB,CAAC,CAC1C,CACJ,CAAC,CAAE,CAACA,gBAAgB,CAAC,CAAC,CAEtB,mBACQ,KAAC,SAAS,EACN,QAAQ,CAAC,MAAM,CACf,EAAE,CAAC,WAAW,CACd,OAAO,CAAEE,SAAU,CACnB,WAAW,CAAC,yBAAyB,CACrC,QAAQ,CAAEF,gBAAiB,CAC3B,QAAQ,CAAEC,mBAAoB,EAEtB,CAExB,CACA,cAAeH,kBAAiB"},"metadata":{},"sourceType":"module"}